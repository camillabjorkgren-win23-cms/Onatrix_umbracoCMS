@using Umbraco.Cms.Web.Common.PublishedModels;
@using Umbraco.Cms.Core;
@using Umbraco.Cms.Core.Models.PublishedContent;
@using Umbraco.Cms.Core.Routing;
@using Umbraco.Extensions;
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage

@inject Umbraco.Cms.Web.Common.UmbracoHelper UmbracoHelper
@inject IPublishedValueFallback PublishedValueFallback
@inject IPublishedUrlProvider PublishedUrlProvider


@{
    var selection = Model.Root().Children.Where(x => x.IsVisible(PublishedValueFallback)).ToArray();


    var rootContents = UmbracoHelper.ContentAtRoot();
    var settings = rootContents?.FirstOrDefault(x => x.ContentType.Alias == "settings") ?? null;
    var logoImg = settings?.Value<IPublishedContent>("siteLogoType").Url() ?? null;
    var siteName = settings?.Value<string>("siteName") ?? "";
}



<section class="navbar">
    <div class="container">
        @if (logoImg != null)
        {
             <a class="logo-img" href="/"><img src="@logoImg" alt="@siteName"></a> 
        } 

        <nav class="menu">
            @if (selection?.Length > 0)
            {
                @foreach (var item in selection)
                    {
                        <a href="@item.Url(PublishedUrlProvider)" title="@item.Name" class="@(item.IsAncestorOrSelf(Model) ? "nav-link active" : "nav-link")">@item.Name</a>
                    }     
            }
        </nav>
        <div class="search">
            <i class="far fa-magnifying-glass"></i>
        </div>
        <button class="btn-menu">
            <i class="far fa-bars"></i>
        </button>
    </div>
</section>
